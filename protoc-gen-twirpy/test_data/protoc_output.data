z¼
haberdasher_twirp.pyz£# -*- coding: utf-8 -*-
# Generated by https://github.com/verloop/twirpy/protoc-gen-twirpy.  DO NOT EDIT!
# source: haberdasher.proto

from google.protobuf import symbol_database as _symbol_database

from typing import ParamSpec, Protocol
from twirp.base import Endpoint
from twirp.context import Context
from twirp.server import TwirpServer
from twirp.client import TwirpClient
try:
	from twirp.async_client import AsyncTwirpClient
	_async_available = True
except ModuleNotFoundError:
	_async_available = False


import haberdasher_pb2 as _haberdasher_pb2

P = ParamSpec('P')

_sym_db = _symbol_database.Default()

class HaberdasherServiceProtocol(Protocol):
	def MakeHat(self, ctx: Context, request: _haberdasher_pb2.Size) -> _haberdasher_pb2.Hat: ...

class HaberdasherServer(TwirpServer):
	def __init__(
		self,
		*,
		service: HaberdasherServiceProtocol,
		server_path_prefix: str = "/twirp"
	):
		super().__init__(service=service)
		self._prefix = F"{server_path_prefix}/twitch.twirp.example.Haberdasher"
		self._endpoints = {
			"MakeHat": Endpoint(
				service_name="Haberdasher",
				name="MakeHat",
				function=getattr(service, "MakeHat"),
				input=_sym_db.GetSymbol("twitch.twirp.example.Size"),
				output=_sym_db.GetSymbol("twitch.twirp.example.Hat"),
			),
		}

class HaberdasherClient(TwirpClient):

	def MakeHat(
		self,
		*,
		ctx: Context,
		request: _haberdasher_pb2.Size,
		server_path_prefix: str = "/twirp",
		**kwargs: P.kwargs
	) -> _haberdasher_pb2.Hat:
		return self._make_request(
			url=F"{server_path_prefix}/twitch.twirp.example.Haberdasher/MakeHat",
			ctx=ctx,
			request=request,
			response_obj=_sym_db.GetSymbol("twitch.twirp.example.Hat"),
			**kwargs,
		)


if _async_available:
	class AsyncHaberdasherClient(AsyncTwirpClient):

		async def MakeHat(
			self,
			*,
			ctx: Context,
			request: _haberdasher_pb2.Size,
			server_path_prefix: str = "/twirp",
			session=None,
			**kwargs: P.kwargs
		) -> _haberdasher_pb2.Hat:
			return await self._make_request(
				url=F"{server_path_prefix}/twitch.twirp.example.Haberdasher/MakeHat",
				ctx=ctx,
				request=request,
				response_obj=_sym_db.GetSymbol("twitch.twirp.example.Hat"),
				session=session,
				**kwargs,
			)
